# OpenCHJAnnotator

テキストに OpenCHJ 形式の形態論情報を付与するアプリケーションです。

## 主な機能

- 短単位の形態論情報を OpenCHJ 形式で自動付与  
  （形態素解析器 fugashi と解析用辞書 UniDic を使用）
- タグ除去・正規表現置換などの前処理
- 入出力テキストのプレビュー

### 必要条件

- OS: Windows 11
- ディスク容量: 約 220MB

## 導入

1. [Releases](https://github.com/smtmto/openchj-annotator/releases) ページから `OpenCHJAnnotator_*.zip` をダウンロードします。
2. zip ファイルを任意の場所で解凍してフォルダを展開します。
3. フォルダ内の `OpenCHJAnnotator.exe` をダブルクリックしてアプリケーションを起動します（インストール不要）。

> 「Windows によって PC が保護されました」等の警告が表示された場合は、「詳細情報」をクリックし、「実行」をクリックしてください。

### 基本操作

1. 「ファイル/フォルダ」ボタン: テキスト(.txt)をアップロード  
   　（一度に 50 件まで、合計 10MB までアップロードできます）
2. 「解析」ボタン: 形態論情報を自動付与
3. 「出力」ボタン: 解析したテキスト(.txt)を出力

### 詳細設定

- 「整形設定」: タグ除去・正規表現置換などを設定できます。
- 「タグ特別設定」: 括弧内に英字 1 字のタグをもつ文字列に対して、UniDic によらず品詞を指定できます。  
  　　　例:　`[F:あの]`　 → 　書字形出現形: `あの`　品詞: `感動詞-フィラー`  
   　括弧は`<>`,`[]`,`()`,`{}`を問いません。また、英字の後ろのコロンや半角スペースの有無は問いません。  
  　　　例:　`[Fあの]`, `[F あの]`, `[F:あの]`, `[F: あの]`　 → 　いずれも認識

### UniDic について

- デフォルトでは unidic-lite を使用します。
- 各種 UniDic を利用する場合は、国立国語研究所の UniDic のサイトから別途ダウンロードしてください。
- 古文用 UniDicS の一部（和歌、中古和文、上代語）は動作対象外です。

### OpenCHJ 形式について

- UTF-8 (BOM なし)，LF 改行，タブ区切り，13 フィールド

1. ファイル名（作者 作品名）
2. サブコーパス名
3. 開始文字位置（ファイル頭からのオフセット値\*10）
4. 終了文字位置（同上）
5. 文境界（B=文頭）
6. 書字形出現形（=キー, 表層形）
7. 語彙素
8. 語彙素読み
9. 品詞
10. 活用型
11. 活用形
12. 発音形
13. 語種

### データ利用

作成した OpenCHJ 形式のデータは、以下のサイトで検索対象データとして利用できます。

- [短単位検索システム](https://github.com/smtmto/jp-suw-search)

## 配布形態

本アプリケーションは 2 種類の配布形態を提供しています。

- 通常版  
  単一の exe ファイルを配布します。通常のユーザはこちらを利用してください。
- standalone 版  
  exe ファイルとライブラリを同梱したフォルダを配布します。  
  LGPLv3 に基づき、PySide6 ライブラリの差し替えが可能です。  
  なお、PySide6 のソースコードは以下から入手できます:  
  [https://code.qt.io/cgit/pyside/pyside-setup.git/](https://code.qt.io/cgit/pyside/pyside-setup.git/)

## ライセンス

本アプリケーションのライセンス

- MIT-0 License

利用ライブラリのライセンス

- fugashi: MIT License
- MeCab: BSD 3-Clause License
- PySide6: LGPLv3
- unidic: BSD License
- unidic-lite: MIT License

### 補足情報

本アプリケーションの開発には一部 AI 技術（Anthropic Claude、Google Gemini、OpenAI ChatGPT）が活用されていますが、すべてのコードは開発者による確認・検証を経ています。

## 免責事項

- 本アプリケーションは研究・教育目的で提供されています。
- 本アプリケーションによる出力データの正確性や完全性は保証いたしません。
- 本アプリケーションの使用によって生じたいかなる損害についても開発者は責任を負いません。
- 本アプリケーションは予告なく仕様変更・開発中止される場合があります。

## バージョン情報

- Version: 0.6.0
- Release Date: 2025-09-03

### 引用

本アプリケーションを研究等で参照される場合の引用例は、以下の通りです。

Matsumoto, S. (2025). OpenCHJAnnotator (バージョン 0.6.0). https://github.com/smtmto/openchj-annotator

関連論文：  
Matsumoto, S. (2025). 短単位検索システムと OpenCHJ 形式形態論情報付与ツールの構築. 言語資源ワークショップ 2025 (LRW2025), Online. https://doi.org/10.5281/zenodo.16994066

### 問い合わせ先

smtmtos@gmail.com
